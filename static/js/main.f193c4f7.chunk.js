(this.webpackJsonpaod=this.webpackJsonpaod||[]).push([[0],{141:function(e,a){},205:function(e,a,n){e.exports=n(240)},210:function(e,a,n){},235:function(e,a){},240:function(e,a,n){"use strict";n.r(a);var t=n(1),r=n.n(t),o=n(34),i=n.n(o),c=(n(210),n(0)),l=n(12),s=n(140),d=n(306),u=n(305),p=n(129),m=n(182),h=n(293),g=n(185),f=n(295);var b=n(14),w=n(311),E=n(300),v=n(301),x=n(299),k=n(131),S=n(302),y=n(179),O=n.n(y),j=n(180),N=n.n(j),C=n(294),A=n(296),D=n(303),I=n(304),T=n(181),B=n.n(T),P=function(e,a){var n=e.name,t=e.coordinates;return r.a.createElement(p.a,{key:a,longitude:t[0],latitude:t[1],captureDrag:!1,captureDoubleClick:!1},r.a.createElement("div",{className:"place"},r.a.createElement("span",null,n)))},z=Object(h.a)((function(e){return{root:{display:"flex",width:"100%","& > * + *":{marginTop:e.spacing(2)}},infoButton:{},geocoder:{zIndex:4,textAlign:"center",margin:"1rem auto",width:"80%"},appBar:{backgroundColor:"unset",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1,overflow:"visible"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),J={longitude:-.03,latitude:51.49,zoom:9,pitch:0,bearing:0,minZoom:9,maxZoom:17};function M(e){e.showBorder,e.onTilesLoad;var a=z(),n="pk.eyJ1IjoiZ2xhLWdpcyIsImEiOiJjanBvNGh1bncwOTkzNDNueWt5MGU1ZGtiIn0.XFxLdq2dXttcXSXTiREPTA",o=new u.a({data:"https://circular-attraction.glitch.me/data/aod-hexes/{z}/{x}/{y}.pbf",minZoom:9,maxZoom:17,getLineColor:[224,224,224],getFillColor:function(e){return[255,255,255,224-224*e.properties.aod_prop]},pickable:!0}),i=Object(t.useState)(J),s=Object(l.a)(i,2),h=s[0],y=s[1],j=Object(t.useCallback)((function(e){var a=e.viewState;y(a)}),[]),T=function(e,a){var n=r.a.useState((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):a})),t=Object(l.a)(n,2),o=t[0],i=t[1];return r.a.useEffect((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[o,e]),[o,i]}("markers",[]),M=Object(l.a)(T,2),Z=M[0],G=M[1],L=Object(t.useMemo)((function(){return Z}),[Z]),W=r.a.useState(!1),R=Object(l.a)(W,2),X=R[0],_=R[1];return r.a.createElement("div",{className:a.root},r.a.createElement(x.a,null),r.a.createElement(E.a,{position:"fixed",className:Object(b.a)(a.appBar,Object(c.a)({},a.appBarShift,X))},r.a.createElement(v.a,null,r.a.createElement(k.a,{variant:"h6",noWrap:!0,className:a.title},r.a.createElement("div",{className:a.geocoder},r.a.createElement(m.a,Object.assign({tabIndex:0,inputPlaceholder:"Search Postcode or Address",accessToken:n,onSelect:function(e){G(Z.concat([{name:e.text,coordinates:[e.center[0],e.center[1]]}])),y({longitude:e.center[0],latitude:e.center[1],zoom:14,transitionDuration:400})},showLoader:!0,focusOnMount:!0},{country:"gb",proximity:{longitude:0,latitude:51.49},bbox:[-.489,51.28,.236,51.686]}))," ")," "),r.a.createElement(f.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){_(!0)},className:Object(b.a)(X&&a.hide)},r.a.createElement(O.a,null)))),r.a.createElement("main",{className:Object(b.a)(a.content,Object(c.a)({},a.contentShift,X))},r.a.createElement(d.a,{ContextProvider:p.c.Provider,layers:[o],views:new g.a({repeat:!0}),viewState:h,onViewStateChange:j,controller:!0,getTooltip:function(e){var a=e.object;return a&&{html:"        <div>AoD score: ".concat(-999!==a.properties.aod_prop?Math.round(100*a.properties.aod_prop)+"%":"n/a","</div>")}}},r.a.createElement("style",null,"\n.place:before {\n  content: ' ';\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background: red;\n  border-radius: 8px;\n  margin: 0 8px;\n}\n.place {\n  border-radius: 20px;\n  padding-right: 12px;\n  margin: -12px;\n  color: transparent;\n  line-height: 24px;\n  font-size: 13px;\n  white-space: nowrap;\n  background: rgba(0,0,0,0.8);\n}\n.place span {\n  /* display: none; */\n  color: #fff;\n  display: inline-block;\n}\n.place:hover {\n  background: rgba(0,0,0,0.8);\n  color: #fff;\n}\n.place:hover span {\n  display: inline-block;\n}\n"),L.map(P)," ",r.a.createElement(p.b,{reuseMaps:!0,mapStyle:"os_night.json",preventStyleDiffing:!0,mapboxApiAccessToken:n}))),r.a.createElement(w.a,{className:a.drawer,variant:"persistent",anchor:"right",open:X,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(f.a,{onClick:function(){_(!1)}},r.a.createElement(N.a,null))),r.a.createElement(S.a,null),r.a.createElement(C.a,null,r.a.createElement("div",{style:{padding:"0 1rem"}},r.a.createElement("h3",null,"Access to Public Open Space Score"),r.a.createElement("p",null,"The score for each hex area shows the proportion of households within this area that are located in an Area of Deficiency in access to local and district public open space (AoD)."),r.a.createElement("p",null,"The darker areas of the map show where there is less access to public open space, and so a dark cell with a score of 100% means that all households in that area are in an AoD."," "),r.a.createElement("p",null,"Cells with a value of ",r.a.createElement("code",null,"n/a")," have no households")),r.a.createElement(S.a,null),r.a.createElement("div",{style:{padding:"0 1rem"}},Z.length>0?r.a.createElement("h3",null,"Saved places"):"",L.map((function(e,a){return r.a.createElement(A.a,{button:!0,key:e.name},r.a.createElement(D.a,null,r.a.createElement(B.a,{onClick:function(){return function(e){G(Z.filter((function(a){return a!==e})))}(e)}})),r.a.createElement(I.a,{primary:e.name,onClick:function(){return function(e){y({longitude:e.coordinates[0],latitude:e.coordinates[1],zoom:14,transitionDuration:400})}(e)}}))}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.f193c4f7.chunk.js.map